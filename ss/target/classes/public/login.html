<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="login.css">
    <script src="login.js" type="text/javascript"></script>
    <style>
		a:link{
			text-decoration: none;
			color: aliceblue;
		}
		a:visited{
			text-decoration: none;
			color: aliceblue;
		}
		a:active{
			text-decoration: none;
			color: #6c91e8;
		}
		a:hover{
			text-decoration: none;
			color: #6c91e8;
		}
	</style>
</head>
<body>
	<div class="container">
        <div class="form row">
           <div class="form-horizontal col-md-6 col-md-offset-1" id="login_form">
               	<div class="row">
					<div class="col-md-6 col-md-offset-0">
                	<a href="#"><img src="国家宝藏.png" width="250px"/></a>
					</div>
                </div>
				<div class="col-md-6 col-md-offset-0">
                <form role="form" id="login" action="" method="get" name="form" action="/museum/user/getUserByIdAndPassword" onSubmit="return login()">
                    	<div class="form-group">
                       		<i class="fa fa-user fa-lg"></i>
                        	<input class="form-control required" type="text" placeholder="UserID" id="uId" name="uId" autofocus maxlength="20" style="padding-left: 26px"/>
                    	<!--</div>
                        <div class="form-group">-->
                            <i class="fa fa-lock fa-lg"></i>
                            <input class="form-control required" type="password" placeholder="Password" id="password" name="password" maxlength="8" style="padding-left: 26px"/>
                    	</div>
                    	<div class="form-group">
							<label class="checkbox-inline">
								<input type="checkbox" name="remember" value="1"/>记住密码
							</label>
							<label class="checkbox-inline">
									<a href="zhuce.html">注册账号</a>
							</label>
						</div>
						<div class="form-group col-md-offset-9">
							<a href="#"><button type="submit" class="btn-lg btn-block btn-primary" name="submit" onClick="login()">登&nbsp;&nbsp;&nbsp;&nbsp;录</button></a>
						</div> 	
                </form>
				</div>
            </div>
        </div>
	</div>
	<script src="js/jquery.min.js?v=2.1.4"></script>
    <script src="js/plugins/peity/jquery.peity.min.js"></script>
    <script src="js/plugins/iCheck/icheck.min.js"></script>
    <script src="js/demo/peity-demo.js"></script>
    <script src="js/bootstrap-paginator.min.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/jquery.cookie.js"></script>
    <script src="js/tools.js"></script>
    <script type="text/javascript">
    
    $('#login').validate({
    	submitHandler: function (form) {
			loginVerify($('#user').attr("action"), $('#user').serialize());
	}
    function loginVerify(url, data) {
    	$.ajax({
    		url : url,
    		type : "post",
    		data : data,
    		success : function(data) {
    			if (data.statusCode == "200") {
    				console.log(data);
    				$.cookie("uName",data.data.uName,{expires:7,path:'/'});
    				console.log($.cookie("uName"));
    				alert("登录成功！");
    				window.location.href = "index.html";
    			}
    			else {
    				alert("add error!" + data.statusMsg);
    			}
    		},
    		error : function(data) {
    			alert(JSON.stringify(data));
    		}
    	})
    }
    
    
    
    </script>
	
</body>

</html>